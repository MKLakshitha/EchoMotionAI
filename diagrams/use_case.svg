<svg viewBox="0 0 1600 1200" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1600" height="1200" fill="#fafbfc"/>
  
  <!-- Title -->
  <text x="800" y="40" text-anchor="middle" font-family="Times, serif" font-size="28" font-weight="bold" fill="#1a202c">
    EchoMotionAI System Use Case Diagram
  </text>
  <text x="800" y="65" text-anchor="middle" font-family="Times, serif" font-size="16" fill="#4a5568">
    Voice-Driven 3D Human Motion Generation and Visualization
  </text>
  
  <!-- System Boundary -->
  <rect x="80" y="100" width="1440" height="1050" fill="#ffffff" stroke="#2d3748" stroke-width="2" stroke-dasharray="15,10" rx="20" opacity="0.95"/>
  <text x="100" y="130" font-family="Times, serif" font-size="20" font-weight="bold" fill="#2d3748">
    EchoMotionAI System
  </text>
  
  <!-- Primary Actor -->
  <g id="user-actor">
    <!-- Enhanced user representation -->
    <circle cx="40" cy="400" r="18" fill="#3182ce" stroke="#2c5282" stroke-width="2"/>
    <line x1="40" y1="418" x2="40" y2="480" stroke="#2c5282" stroke-width="3"/>
    <line x1="40" y1="440" x2="20" y2="465" stroke="#2c5282" stroke-width="2"/>
    <line x1="40" y1="440" x2="60" y2="465" stroke="#2c5282" stroke-width="2"/>
    <line x1="40" y1="480" x2="20" y2="510" stroke="#2c5282" stroke-width="2"/>
    <line x1="40" y1="480" x2="60" y2="510" stroke="#2c5282" stroke-width="2"/>
    <text x="40" y="535" text-anchor="middle" font-family="Times, serif" font-size="14" font-weight="bold" fill="#2d3748">User</text>
  </g>
  
  <!-- Primary Use Cases with Enhanced Styling -->
  
  <!-- Voice Input and Transcription -->
  <ellipse cx="280" cy="220" rx="95" ry="35" fill="#f0fff4" stroke="#38a169" stroke-width="2.5"/>
  <text x="280" y="210" text-anchor="middle" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">Voice Input &amp;</text>
  <text x="280" y="228" text-anchor="middle" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">Transcription</text>
  <text x="280" y="245" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#4a5568">(UC-01)</text>
  
  <!-- Object/Action Identification -->
  <ellipse cx="280" cy="340" rx="95" ry="35" fill="#ebf8ff" stroke="#3182ce" stroke-width="2.5"/>
  <text x="280" y="330" text-anchor="middle" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">Object/Action</text>
  <text x="280" y="348" text-anchor="middle" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">Identification</text>
  <text x="280" y="365" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#4a5568">(UC-02)</text>
  
  <!-- Motion Generation and Visualization -->
  <ellipse cx="280" cy="460" rx="95" ry="35" fill="#fff5eb" stroke="#dd6b20" stroke-width="2.5"/>
  <text x="280" y="450" text-anchor="middle" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">Motion Generation</text>
  <text x="280" y="468" text-anchor="middle" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">&amp; Visualization</text>
  <text x="280" y="485" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#4a5568">(UC-03)</text>
  
  <!-- Session Management -->
  <ellipse cx="280" cy="580" rx="95" ry="35" fill="#f7fafc" stroke="#805ad5" stroke-width="2.5"/>
  <text x="280" y="570" text-anchor="middle" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">Session</text>
  <text x="280" y="588" text-anchor="middle" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">Management</text>
  <text x="280" y="605" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#4a5568">(UC-04)</text>
  
  <!-- Feedback Processing -->
  <ellipse cx="280" cy="700" rx="95" ry="35" fill="#fef5e7" stroke="#d69e2e" stroke-width="2.5"/>
  <text x="280" y="690" text-anchor="middle" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">Feedback</text>
  <text x="280" y="708" text-anchor="middle" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">Processing</text>
  <text x="280" y="725" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#4a5568">(UC-05)</text>
  
  <!-- Sub Use Cases with Better Positioning -->
  
  <!-- Voice Processing Group -->
  <ellipse cx="520" cy="170" rx="75" ry="28" fill="#f0fff4" stroke="#38a169" stroke-width="1.5"/>
  <text x="520" y="165" text-anchor="middle" font-family="Times, serif" font-size="11" fill="#2d3748">Record Voice</text>
  <text x="520" y="178" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">(SPACE + Hold)</text>
  
  <ellipse cx="520" cy="240" rx="75" ry="28" fill="#f0fff4" stroke="#38a169" stroke-width="1.5"/>
  <text x="520" y="235" text-anchor="middle" font-family="Times, serif" font-size="11" fill="#2d3748">Transcribe Audio</text>
  <text x="520" y="248" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">(Azure Speech)</text>
  
  <!-- Command Processing Group -->
  <ellipse cx="520" cy="310" rx="75" ry="28" fill="#ebf8ff" stroke="#3182ce" stroke-width="1.5"/>
  <text x="520" y="305" text-anchor="middle" font-family="Times, serif" font-size="11" fill="#2d3748">Parse Command</text>
  <text x="520" y="318" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">(LLM Analysis)</text>
  
  <ellipse cx="520" cy="380" rx="75" ry="28" fill="#ebf8ff" stroke="#3182ce" stroke-width="1.5"/>
  <text x="520" y="375" text-anchor="middle" font-family="Times, serif" font-size="11" fill="#2d3748">Scene Understanding</text>
  <text x="520" y="388" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">(ScanNet Data)</text>
  
  <!-- Motion Processing Group -->
  <ellipse cx="520" cy="430" rx="75" ry="28" fill="#fff5eb" stroke="#dd6b20" stroke-width="1.5"/>
  <text x="520" y="425" text-anchor="middle" font-family="Times, serif" font-size="11" fill="#2d3748">Motion Planning</text>
  <text x="520" y="438" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">(Diffusion Model)</text>
  
  <ellipse cx="520" cy="500" rx="75" ry="28" fill="#fff5eb" stroke="#dd6b20" stroke-width="1.5"/>
  <text x="520" y="495" text-anchor="middle" font-family="Times, serif" font-size="11" fill="#2d3748">Render Motion</text>
  <text x="520" y="508" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">(SMPL-X)</text>
  
  <!-- Session Management Group -->
  <ellipse cx="520" cy="550" rx="75" ry="28" fill="#f7fafc" stroke="#805ad5" stroke-width="1.5"/>
  <text x="520" y="545" text-anchor="middle" font-family="Times, serif" font-size="11" fill="#2d3748">Memory Retrieval</text>
  <text x="520" y="558" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">(MongoDB)</text>
  
  <ellipse cx="520" cy="620" rx="75" ry="28" fill="#f7fafc" stroke="#805ad5" stroke-width="1.5"/>
  <text x="520" y="615" text-anchor="middle" font-family="Times, serif" font-size="11" fill="#2d3748">Provide Context</text>
  <text x="520" y="628" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">(Session Data)</text>
  
  <!-- Feedback Processing Group -->
  <ellipse cx="520" cy="680" rx="75" ry="28" fill="#fef5e7" stroke="#d69e2e" stroke-width="1.5"/>
  <text x="520" y="675" text-anchor="middle" font-family="Times, serif" font-size="11" fill="#2d3748">Update Reward</text>
  <text x="520" y="688" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">(GRPO LLM)</text>
  
  <ellipse cx="520" cy="740" rx="75" ry="28" fill="#fef5e7" stroke="#d69e2e" stroke-width="1.5"/>
  <text x="520" y="735" text-anchor="middle" font-family="Times, serif" font-size="11" fill="#2d3748">RLHF Training</text>
  <text x="520" y="748" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">(Model Update)</text>
  
  <!-- External Systems with Better Layout -->
  
  <!-- Left Column External Systems -->
  <rect x="750" y="150" width="140" height="50" fill="#e6f3ff" stroke="#2b6cb0" stroke-width="2" rx="8"/>
  <text x="820" y="170" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#2b6cb0">Azure Speech</text>
  <text x="820" y="185" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#2b6cb0">Service</text>
  <text x="820" y="195" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">Speech-to-Text API</text>
  
  <rect x="750" y="220" width="140" height="50" fill="#fff7e6" stroke="#c05621" stroke-width="2" rx="8"/>
  <text x="820" y="240" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#c05621">LLM System</text>
  <text x="820" y="255" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#c05621">Command Parser</text>
  <text x="820" y="265" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">Natural Language Processing</text>
  
  <rect x="750" y="290" width="140" height="50" fill="#f0fff4" stroke="#25855a" stroke-width="2" rx="8"/>
  <text x="820" y="310" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#25855a">ScanNet</text>
  <text x="820" y="325" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#25855a">Database</text>
  <text x="820" y="335" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">3D Scene Repository</text>
  
  <rect x="750" y="360" width="140" height="50" fill="#fff0f5" stroke="#b83280" stroke-width="2" rx="8"/>
  <text x="820" y="380" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#b83280">Humanise</text>
  <text x="820" y="395" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#b83280">Dataset</text>
  <text x="820" y="405" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">Motion Training Data</text>
  
  <!-- Right Column External Systems -->
  <rect x="750" y="430" width="140" height="50" fill="#f5f0ff" stroke="#6b46c1" stroke-width="2" rx="8"/>
  <text x="820" y="450" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#6b46c1">SMPL-X</text>
  <text x="820" y="465" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#6b46c1">Renderer</text>
  <text x="820" y="475" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">3D Human Model</text>
  
  <rect x="750" y="500" width="140" height="50" fill="#e6ffe6" stroke="#2f855a" stroke-width="2" rx="8"/>
  <text x="820" y="520" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#2f855a">MongoDB</text>
  <text x="820" y="535" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#2f855a">Memory Store</text>
  <text x="820" y="545" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#4a5568">Session Management DB</text>
  
  <!-- Browser Output - Repositioned to avoid overlap -->
  <rect x="1050" y="480" width="160" height="60" fill="#ffe6e6" stroke="#e53e3e" stroke-width="3" rx="10"/>
  <text x="1130" y="500" text-anchor="middle" font-family="Times, serif" font-size="14" font-weight="bold" fill="#e53e3e">Wis3D Browser</text>
  <text x="1130" y="518" text-anchor="middle" font-family="Times, serif" font-size="14" font-weight="bold" fill="#e53e3e">Visualization</text>
  <text x="1130" y="532" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#4a5568">3D Motion Display Interface</text>
  
  <!-- User Associations -->
  <line x1="70" y1="350" x2="210" y2="220" stroke="#2d3748" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="70" y1="380" x2="210" y2="340" stroke="#2d3748" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="70" y1="420" x2="210" y2="460" stroke="#2d3748" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="70" y1="450" x2="210" y2="580" stroke="#2d3748" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="70" y1="500" x2="210" y2="700" stroke="#2d3748" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Include relationships with better spacing -->
  <line x1="360" y1="200" x2="445" y2="170" stroke="#38a169" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowhead-green)"/>
  <line x1="360" y1="240" x2="445" y2="240" stroke="#38a169" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowhead-green)"/>
  
  <line x1="360" y1="320" x2="445" y2="310" stroke="#3182ce" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowhead-blue)"/>
  <line x1="360" y1="360" x2="445" y2="380" stroke="#3182ce" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowhead-blue)"/>
  
  <line x1="360" y1="440" x2="445" y2="430" stroke="#dd6b20" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowhead-orange)"/>
  <line x1="360" y1="480" x2="445" y2="500" stroke="#dd6b20" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowhead-orange)"/>
  
  <line x1="360" y1="560" x2="445" y2="550" stroke="#805ad5" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowhead-purple)"/>
  <line x1="360" y1="600" x2="445" y2="620" stroke="#805ad5" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowhead-purple)"/>
  
  <line x1="360" y1="680" x2="445" y2="680" stroke="#d69e2e" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowhead-yellow)"/>
  <line x1="360" y1="720" x2="445" y2="740" stroke="#d69e2e" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowhead-yellow)"/>
  
  <!-- External system connections with better routing -->
  <line x1="595" y1="200" x2="750" y2="175" stroke="#2b6cb0" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="595" y1="320" x2="750" y2="245" stroke="#c05621" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="595" y1="380" x2="750" y2="315" stroke="#25855a" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="595" y1="430" x2="750" y2="385" stroke="#b83280" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="595" y1="500" x2="750" y2="455" stroke="#6b46c1" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="595" y1="570" x2="750" y2="525" stroke="#2f855a" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Enhanced Output Flow - Repositioned to avoid overlap -->
  <path d="M 375 460 Q 650 350 950 480 Q 980 490 1050 510" fill="none" stroke="#e53e3e" stroke-width="3" marker-end="url(#arrowhead-red-medium)"/>
  <text x="650" y="335" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#e53e3e">&lt;&lt;output&gt;&gt;</text>
  <text x="650" y="350" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#e53e3e">
    Final Output
  </text>
  
  <!-- Workflow Sequence Box -->
  <rect x="1050" y="150" width="400" height="180" fill="#f7fafc" stroke="#cbd5e0" stroke-width="1" rx="8"/>
  <text x="1250" y="175" text-anchor="middle" font-family="Times, serif" font-size="16" font-weight="bold" fill="#2d3748">
    Workflow Sequence
  </text>
  <line x1="1070" y1="185" x2="1430" y2="185" stroke="#cbd5e0" stroke-width="1"/>
  
  <text x="1070" y="205" font-family="Times, serif" font-size="12" fill="#2d3748">
    <tspan font-weight="bold">Step 1:</tspan> Voice Input → Audio Recording
  </text>
  <text x="1070" y="225" font-family="Times, serif" font-size="12" fill="#2d3748">
    <tspan font-weight="bold">Step 2:</tspan> Speech Transcription → Text Output
  </text>
  <text x="1070" y="245" font-family="Times, serif" font-size="12" fill="#2d3748">
    <tspan font-weight="bold">Step 3:</tspan> Command Parsing → Intent Recognition
  </text>
  <text x="1070" y="265" font-family="Times, serif" font-size="12" fill="#2d3748">
    <tspan font-weight="bold">Step 4:</tspan> Scene Understanding → Context Analysis
  </text>
  <text x="1070" y="285" font-family="Times, serif" font-size="12" fill="#2d3748">
    <tspan font-weight="bold">Step 5:</tspan> Motion Planning → Trajectory Generation
  </text>
  <text x="1070" y="305" font-family="Times, serif" font-size="12" fill="#2d3748">
    <tspan font-weight="bold">Step 6:</tspan> 3D Rendering → Motion Visualization
  </text>
  
  <!-- Enhanced Legend with proper spacing -->
  <rect x="1050" y="600" width="420" height="380" fill="#f7fafc" stroke="#cbd5e0" stroke-width="1" rx="8"/>
  <text x="1260" y="625" text-anchor="middle" font-family="Times, serif" font-size="16" font-weight="bold" fill="#2d3748">
    Legend
  </text>
  <line x1="1070" y1="635" x2="1450" y2="635" stroke="#cbd5e0" stroke-width="1"/>
  
  <!-- Use Case Elements Section -->
  <text x="1070" y="655" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">
    Use Case Elements:
  </text>
  
  <ellipse cx="1090" cy="675" rx="35" ry="15" fill="#f0fff4" stroke="#38a169" stroke-width="2"/>
  <text x="1140" y="681" font-family="Times, serif" font-size="11" fill="#2d3748">Primary Use Cases</text>
  
  <ellipse cx="1090" cy="705" rx="30" ry="12" fill="#f0fff4" stroke="#38a169" stroke-width="1"/>
  <text x="1140" y="711" font-family="Times, serif" font-size="11" fill="#2d3748">Sub Use Cases</text>
  
  <!-- External System Elements -->
  <text x="1070" y="735" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">
    External Systems:
  </text>
  
  <rect x="1075" y="745" width="50" height="20" fill="#e6f3ff" stroke="#2b6cb0" stroke-width="1" rx="3"/>
  <text x="1140" y="757" font-family="Times, serif" font-size="11" fill="#2d3748">Service Systems</text>
  
  <rect x="1075" y="775" width="50" height="20" fill="#ffe6e6" stroke="#e53e3e" stroke-width="2" rx="3"/>
  <text x="1140" y="787" font-family="Times, serif" font-size="11" fill="#2d3748">Output Interface</text>
  
  <!-- Relationship Types -->
  <text x="1070" y="815" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">
    Relationships:
  </text>
  
  <line x1="1080" y1="835" x2="1120" y2="835" stroke="#2d3748" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="1140" y="840" font-family="Times, serif" font-size="11" fill="#2d3748">Association (User-Use Case)</text>
  
  <line x1="1080" y1="855" x2="1120" y2="855" stroke="#4a5568" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowhead)"/>
  <text x="1095" y="850" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#4a5568">&lt;&lt;include&gt;&gt;</text>
  <text x="1140" y="860" font-family="Times, serif" font-size="11" fill="#2d3748">Include Dependency</text>
  
  <line x1="1080" y1="875" x2="1110" y2="875" stroke="#e53e3e" stroke-width="2" marker-end="url(#arrowhead-red-small)"/>
  <text x="1140" y="880" font-family="Times, serif" font-size="11" fill="#2d3748">System Output Flow</text>
  
  <!-- UML Stereotypes -->
  <text x="1070" y="905" font-family="Times, serif" font-size="13" font-weight="bold" fill="#2d3748">
    UML Stereotypes:
  </text>
  
  <text x="1080" y="925" font-family="Times, serif" font-size="11" fill="#2d3748">
    &lt;&lt;include&gt;&gt; - Mandatory sub-functionality
  </text>
  <text x="1080" y="945" font-family="Times, serif" font-size="11" fill="#2d3748">
    &lt;&lt;extend&gt;&gt; - Optional sub-functionality
  </text>
  <text x="1080" y="965" font-family="Times, serif" font-size="11" fill="#2d3748">
    UC-XX - Use Case Identification Number
  </text>
  
  <!-- Arrow markers with multiple colors -->
  <defs>
    <marker id="arrowhead" markerWidth="12" markerHeight="8" 
     refX="11" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#2d3748"/>
    </marker>
    <marker id="arrowhead-large" markerWidth="16" markerHeight="10" 
     refX="15" refY="5" orient="auto">
      <polygon points="0 0, 16 5, 0 10" fill="#e53e3e"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#38a169"/>
    </marker>
    <marker id="arrowhead-blue" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3182ce"/>
    </marker>
    <marker id="arrowhead-orange" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <marker points="0 0, 10 3.5, 0 7" fill="#dd6b20"/>
    </marker>
    <marker id="arrowhead-purple" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#805ad5"/>
    </marker>
    <marker id="arrowhead-red-small" markerWidth="8" markerHeight="6" 
     refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#e53e3e"/>
    </marker>
    <marker id="arrowhead-red-medium" markerWidth="12" markerHeight="8" 
     refX="11" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#e53e3e"/>
    </marker>
    <marker id="arrowhead-yellow" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#d69e2e"/>
    </marker>
    
    <!-- Drop shadows for better visual hierarchy -->
    <filter id="dropshadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#000000" flood-opacity="0.1"/>
    </filter>
  </defs>
  
  <!-- Apply shadows to main elements -->
  <style>
    ellipse { filter: url(#dropshadow); }
    rect { filter: url(#dropshadow); }
  </style>
</svg>